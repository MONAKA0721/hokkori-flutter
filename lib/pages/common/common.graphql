fragment LetterSummary on Post {
  title
  id
  content
  createTime
  owner {
    id
    name
  }
  category {
    id
    name
  }
}

fragment PraiseSummary on Post {
  title
  id
  content
  hashtags {
    id
    title
  }
  owner {
    id
    name
  }
  category {
    id
    name
  }
}

query Praises(
  $first: Int
  $after: Cursor
  $or: [PostWhereInput!]
  $hasCategoryWith: [CategoryWhereInput!]
) {
  posts(
    after: $after
    first: $first
    orderBy: { direction: DESC, field: CREATE_TIME }
    where: { type: praise, hasCategoryWith: $hasCategoryWith, or: $or }
  ) {
    edges {
      node {
        ...PraiseSummary
      }
    }
    pageInfo {
      endCursor
      hasNextPage
    }
  }
}

query Letters(
  $first: Int
  $after: Cursor
  $or: [PostWhereInput!]
  $hasCategoryWith: [CategoryWhereInput!]
) {
  posts(
    after: $after
    first: $first
    orderBy: { direction: DESC, field: CREATE_TIME }
    where: { type: letter, hasCategoryWith: $hasCategoryWith, or: $or }
  ) {
    edges {
      node {
        ...LetterSummary
      }
    }
    pageInfo {
      endCursor
      hasNextPage
    }
  }
}
